/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{"use strict";const e={tokenUrl:"https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt",uploadUrl:"https://33333.cke-cs.com/easyimage/upload/"};let t=500;document.querySelector("#snippet-autosave-lag").addEventListener("change",(e=>{t=e.target.value})),ClassicEditor.create(document.querySelector("#snippet-autosave"),{cloudServices:e,ui:{viewportOffset:{top:window.getViewportTopOffsetConfig()}},autosave:{save(e){return o=e.getData(),new Promise((e=>{setTimeout((()=>{!function(e){const t=document.querySelector("#snippet-autosave-console");s++,t.classList.add("updated"),t.textContent=e,setTimeout((()=>{0==--s&&t.classList.remove("updated")}),500)}(o),e()}),t)}));var o}}}).then((e=>{window.editor=e,function(e){const t=e.plugins.get("PendingActions"),s=document.querySelector("#snippet-autosave-status");t.on("change:hasAny",((e,t,o)=>{o?s.classList.add("busy"):s.classList.remove("busy")}))}(e)})).catch((e=>{console.error(e.stack)}));let s=0})();